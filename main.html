<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Геопортал Иннотер</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" href="leaflet/leaflet.css" />
    <script src="leaflet/leaflet.js"></script>
    <script>
        // создаём объект карты
        function mapinit() {

            map = L.map('map', {center: [60.0, 40.0], zoom: 4,});

            L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
            maxZoom: 18,
            id: 'lobanov.p50d15pe',
            accessToken: 'pk.eyJ1IjoibG9iYW5vdiIsImEiOiJjaWtrNHQ0YnUwYTN1dHlqN2pzNHg5eGVkIn0.MO1DmJuIxjlab_pr-FYZ3Q'
            }).addTo(map);

            //добавляем шкалу масштаба
            L.control.scale({position: 'bottomleft', imperial: false, maxWidth: 100}).addTo(map);


            // определение местоположения
            map.locate({setView: true, maxZoom: 11});
            map.on('locationfound', onLocationFound);

            // добавление маркера в местоположение
            function onLocationFound(e) {
            // create a marker at the users "latlng" and add it to the map
            L.marker(e.latlng)
            .addTo(map)
            .bindPopup("<b>Мы - где-то тут</b>")
            .openPopup();
            }

            }


            function addGE() {
            var wmsGE = L.tileLayer.wms("http://192.168.0.117:8080/geoserver/Geoportal/wms", {
            layers: 'Geoportal:GeoEye_2016',
            format: 'image/png',
            transparent: true,
            version: '1.1.0',
            attribution: "myattribution"
            });
            wmsGE.addTo(map);
            }

            function addWV2() {
            var wmsWV2 = L.tileLayer.wms("http://192.168.0.117:8080/geoserver/Geoportal/wms", {
            layers: 'Geoportal:WorldView2_2016',
            format: 'image/png',
            transparent: true,
            version: '1.1.0',
            attribution: "myattribution"
            });
            wmsWV2.addTo(map);
            }

            function addQuicklook() {
            var wmsQL = L.tileLayer.wms("http://192.168.0.117:8080/geoserver/Geoportal/wms", {
            layers: 'Geoportal:Moscow_QL_white',
            format: 'image/png',
            transparent: true,
            version: '1.1.0',
            attribution: "myattribution"
            });
            wmsQL.addTo(map);
            }

    </script>
</head>
<body onload="mapinit()">
    <h1 class="block-title"><font color="#b02022"><b>Геопортал Иннотер</b></font></h1>
    <div><img src="logo_text_ru.png" alt="Innoter logo" title="Innoter.com" height="60" width="300"></div>
    <button onclick="addGE()"><b>Добавить покрытие GeoEye-1</b></button>
    <button onclick="addWV2()"><b>Добавить покрытие WorldView-2</b></button>
    <button onclick="addQuicklook()"><b>Добавить квиклук</b></button>
    <div id="map"></div>
</body>
</html>